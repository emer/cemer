# set the lib and executable suffix based on build type
# CMAKE_DEBUG_POSTFIX: libraries
# CMAKE_EXECUTABLE_SUFFIX: executables
# also sets global EMERGENT_SUFFIX for general use

IF(CMAKE_BUILD_TYPE MATCHES "Debug") 
    IF(MPI_BUILD)
	set(CMAKE_DEBUG_POSTFIX "_dbg_mpi")
	set(CMAKE_EXECUTABLE_SUFFIX "_dbg_mpi"${CMAKE_EXECUTABLE_SUFFIX})
	set(EMERGENT_SUFFIX "_dbg_mpi")
    ELSE(MPI_BUILD)
	set(CMAKE_DEBUG_POSTFIX "_dbg")
	set(CMAKE_EXECUTABLE_SUFFIX "_dbg"${CMAKE_EXECUTABLE_SUFFIX})
	set(EMERGENT_SUFFIX "_dbg")
    ENDIF(MPI_BUILD)
ELSE(CMAKE_BUILD_TYPE MATCHES "Debug") 
    IF(MPI_BUILD)
	set(CMAKE_RELEASE_POSTFIX "_mpi")
	set(CMAKE_RELWITHDEBINFO_POSTFIX "_mpi")
	set(CMAKE_MINSIZEREL_POSTFIX "_mpi")
	set(CMAKE_EXECUTABLE_SUFFIX "_mpi"${CMAKE_EXECUTABLE_SUFFIX})
	set(EMERGENT_SUFFIX "_mpi")
    ELSE(MPI_BUILD)
	set(CMAKE_RELEASE_POSTFIX "")
	set(CMAKE_RELWITHDEBINFO_POSTFIX "")
	set(CMAKE_MINSIZEREL_POSTFIX "")
#nn	set(CMAKE_EXECUTABLE_SUFFIX "")
	set(EMERGENT_SUFFIX "")
    ENDIF(MPI_BUILD)
ENDIF(CMAKE_BUILD_TYPE MATCHES "Debug") 
